---
// Contact.astro - Sección de formulario de contacto
---

<section id="contact" class="py-20 bg-gray-50 dark:bg-feid-dark-gray transition-colors duration-300">
  <div class="container mx-auto px-4">
    <!-- Encabezado de sección -->
    <div class="text-center mb-16">
      <h2 
        class="text-3xl md:text-4xl font-bold mb-4 text-feid-dark dark:text-feid-light"
        data-aos="fade-up"
      >
        <span class="neon-text">Contacto</span>
      </h2>
      <div 
        class="w-24 h-1 bg-gradient-to-r from-feid-green to-feid-blue mx-auto"
        data-aos="zoom-in"
        data-aos-delay="200"
      ></div>
      <p 
        class="mt-4 max-w-2xl mx-auto text-gray-700 dark:text-gray-300"
        data-aos="fade-up"
        data-aos-delay="300"
      >
        ¿Tienes un proyecto en mente? ¡Hablemos! Completa el formulario y me pondré en contacto contigo lo antes posible.
      </p>
    </div>
    
    <!-- Contenido principal -->
    <div class="max-w-5xl mx-auto">
      <div class="flex flex-col md:flex-row gap-12">
        <!-- Información de contacto -->
        <div 
          class="w-full md:w-2/5"
          data-aos="fade-right"
          data-aos-delay="400"
        >
          <div class="bg-white dark:bg-feid-dark-gray rounded-xl shadow-lg p-8 h-full">
            <h3 class="text-2xl font-bold mb-6 text-feid-dark dark:text-feid-light">
              Información de contacto
            </h3>
            
            <div class="space-y-6">
              <!-- Email -->
              <div class="flex items-start">
                <div class="flex-shrink-0 h-12 w-12 flex items-center justify-center rounded-full bg-feid-green/10 text-feid-green">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                  </svg>
                </div>
                <div class="ml-4">
                  <h4 class="text-lg font-semibold text-feid-dark dark:text-feid-light">Email</h4>
                  <p class="text-gray-600 dark:text-gray-400">email@ejemplo.com</p>
                </div>
              </div>
              
              <!-- Ubicación -->
              <div class="flex items-start">
                <div class="flex-shrink-0 h-12 w-12 flex items-center justify-center rounded-full bg-feid-purple/10 text-feid-purple">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                </div>
                <div class="ml-4">
                  <h4 class="text-lg font-semibold text-feid-dark dark:text-feid-light">Ubicación</h4>
                  <p class="text-gray-600 dark:text-gray-400">Ciudad, País</p>
                </div>
              </div>
              
              <!-- Disponibilidad -->
              <div class="flex items-start">
                <div class="flex-shrink-0 h-12 w-12 flex items-center justify-center rounded-full bg-feid-pink/10 text-feid-pink">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                </div>
                <div class="ml-4">
                  <h4 class="text-lg font-semibold text-feid-dark dark:text-feid-light">Disponibilidad</h4>
                  <p class="text-gray-600 dark:text-gray-400">Lunes - Viernes: 9:00 AM - 6:00 PM</p>
                </div>
              </div>
            </div>
            
            <!-- Redes sociales -->
            <div class="mt-10">
              <h4 class="text-lg font-semibold text-feid-dark dark:text-feid-light mb-4">Sígueme en</h4>
              <div class="flex space-x-4">
                <!-- GitHub -->
                <a href="#" class="w-10 h-10 flex items-center justify-center rounded-full bg-gray-200 dark:bg-feid-dark-gray hover:bg-feid-green/20 dark:hover:bg-feid-green/20 group transition-colors duration-300 border border-gray-300 dark:border-gray-700">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-feid-dark dark:text-feid-light group-hover:text-feid-green dark:group-hover:text-feid-green transition-colors" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.167 6.839 9.489.5.092.682-.217.682-.48 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.342-3.369-1.342-.454-1.155-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.832.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.202 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.934.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.161 22 16.416 22 12c0-5.523-4.477-10-10-10z"/>
                  </svg>
                </a>
                
                <!-- LinkedIn -->
                <a href="#" class="w-10 h-10 flex items-center justify-center rounded-full bg-gray-200 dark:bg-feid-dark-gray hover:bg-feid-blue/20 dark:hover:bg-feid-blue/20 group transition-colors duration-300 border border-gray-300 dark:border-gray-700">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-feid-dark dark:text-feid-light group-hover:text-feid-blue dark:group-hover:text-feid-blue transition-colors" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M19 3a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h14m-.5 15.5v-5.3a3.26 3.26 0 00-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 011.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 001.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 00-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/>
                  </svg>
                </a>
                
                <!-- Twitter -->
                <a href="#" class="w-10 h-10 flex items-center justify-center rounded-full bg-gray-200 dark:bg-feid-dark-gray hover:bg-feid-purple/20 dark:hover:bg-feid-purple/20 group transition-colors duration-300 border border-gray-300 dark:border-gray-700">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-feid-dark dark:text-feid-light group-hover:text-feid-purple dark:group-hover:text-feid-purple transition-colors" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 01-1.93.07 4.28 4.28 0 004 2.98 8.521 8.521 0 01-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/>
                  </svg>
                </a>
                
                <!-- Instagram -->
                <a href="#" class="w-10 h-10 flex items-center justify-center rounded-full bg-gray-200 dark:bg-feid-dark-gray hover:bg-feid-pink/20 dark:hover:bg-feid-pink/20 group transition-colors duration-300 border border-gray-300 dark:border-gray-700">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-feid-dark dark:text-feid-light group-hover:text-feid-pink dark:group-hover:text-feid-pink transition-colors" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 01-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 017.8 2m-.2 2A3.6 3.6 0 004 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 003.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 011.25 1.25A1.25 1.25 0 1117.25 5.5M12 7a5 5 0 015 5 5 5 0 01-5 5 5 5 0 01-5-5 5 5 0 015-5m0 2a3 3 0 00-3 3 3 3 0 003 3 3 3 0 003-3 3 3 0 00-3-3z"/>
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Formulario de contacto -->
        <div 
          class="w-full md:w-3/5"
          data-aos="fade-left"
          data-aos-delay="500"
        >
          <form id="contactForm" class="bg-white dark:bg-feid-dark rounded-xl shadow-lg p-8">
            <div class="mb-6">
              <label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Nombre completo <span class="text-feid-pink">*</span>
              </label>
              <div class="relative">
                <input 
                  type="text" 
                  id="name" 
                  name="name" 
                  class="w-full px-4 py-3 bg-gray-50 dark:bg-feid-dark-gray border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-feid-green dark:focus:ring-feid-green text-feid-dark dark:text-feid-light transition-all duration-300" 
                  required
                  aria-required="true"
                />
                <div class="absolute inset-0 rounded-lg opacity-0 group-focus-within:opacity-100 overflow-hidden pointer-events-none transition-opacity duration-300">
                  <div class="absolute inset-0 bg-gradient-to-r from-feid-green to-feid-blue -z-10"></div>
                </div>
              </div>
            </div>
            
            <div class="mb-6">
              <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Correo electrónico <span class="text-feid-pink">*</span>
              </label>
              <input 
                type="email" 
                id="email" 
                name="email" 
                class="w-full px-4 py-3 bg-gray-50 dark:bg-feid-dark-gray border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-feid-green dark:focus:ring-feid-green text-feid-dark dark:text-feid-light transition-all duration-300" 
                required
                aria-required="true"
              />
            </div>
            
            <div class="mb-6">
              <label for="subject" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Asunto
              </label>
              <input 
                type="text" 
                id="subject" 
                name="subject" 
                class="w-full px-4 py-3 bg-gray-50 dark:bg-feid-dark-gray border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-feid-green dark:focus:ring-feid-green text-feid-dark dark:text-feid-light transition-all duration-300" 
              />
            </div>
            
            <div class="mb-6">
              <label for="message" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Mensaje <span class="text-feid-pink">*</span>
              </label>
              <textarea 
                id="message" 
                name="message" 
                rows="5" 
                class="w-full px-4 py-3 bg-gray-50 dark:bg-feid-dark-gray border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-feid-green dark:focus:ring-feid-green text-feid-dark dark:text-feid-light transition-all duration-300 resize-none" 
                required
                aria-required="true"
              ></textarea>
            </div>
            
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Adjuntar archivo
              </label>
              <div class="flex items-center justify-center w-full">
                <label for="dropzone-file" class="flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:bg-feid-dark-gray border-gray-300 dark:border-gray-700 hover:border-feid-green dark:hover:border-feid-green transition-colors duration-300">
                  <div class="flex flex-col items-center justify-center pt-5 pb-6">
                    <svg aria-hidden="true" class="w-10 h-10 mb-3 text-gray-400 dark:text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                    </svg>
                    <p class="mb-2 text-sm text-gray-500 dark:text-gray-400">
                      <span class="font-semibold">Haz clic para subir</span> o arrastra y suelta
                    </p>
                    <p class="text-xs text-gray-500 dark:text-gray-400">PDF, Word, o imágenes (MAX. 10 MB)</p>
                  </div>
                  <input id="dropzone-file" type="file" class="hidden" />
                </label>
              </div>
            </div>
            
            <!-- Checkbox para términos -->
            <div class="mb-6">
              <div class="flex items-start">
                <div class="flex items-center h-5">
                  <input
                    id="terms"
                    name="terms"
                    type="checkbox"
                    class="w-4 h-4 bg-gray-50 dark:bg-feid-dark-gray border-gray-300 dark:border-gray-700 rounded focus:ring-feid-green dark:focus:ring-feid-green transition-all duration-300"
                    required
                  />
                </div>
                <div class="ml-3 text-sm">
                  <label for="terms" class="text-gray-700 dark:text-gray-300">
                    Acepto la <a href="#" class="text-feid-blue hover:text-feid-green transition-colors duration-300">política de privacidad</a> y los <a href="#" class="text-feid-blue hover:text-feid-green transition-colors duration-300">términos del servicio</a>.
                  </label>
                </div>
              </div>
            </div>
            
            <!-- Botón de envío -->
            <button 
              type="submit" 
              class="w-full neon-button flex items-center justify-center group"
            >
              <span>Enviar mensaje</span>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2 transform transition-transform duration-300 group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
              </svg>
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const contactForm = document.getElementById('contactForm');
    const dropzoneFile = document.getElementById('dropzone-file');
    const fileNameDisplay = document.createElement('p');
    fileNameDisplay.className = 'mt-2 text-sm text-gray-600 dark:text-gray-400 text-center';
    
    if (dropzoneFile) {
      dropzoneFile.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
          // Mostrar nombre del archivo seleccionado
          fileNameDisplay.textContent = `Archivo seleccionado: ${file.name}`;
          dropzoneFile.parentElement.parentElement.appendChild(fileNameDisplay);
        } else {
          fileNameDisplay.remove();
        }
      });
    }
    
    // Validación y envío del formulario
    if (contactForm) {
      contactForm.addEventListener('submit', (e) => {
        e.preventDefault();
        
        // Validación de campos
        let isValid = true;
        const name = document.getElementById('name');
        const email = document.getElementById('email');
        const message = document.getElementById('message');
        
        // Validación básica
        [name, email, message].forEach(field => {
          if (!field.value.trim()) {
            field.classList.add('border-feid-pink');
            isValid = false;
          } else {
            field.classList.remove('border-feid-pink');
          }
        });
        
        // Si el formulario es válido, simular envío
        if (isValid) {
          const submitBtn = contactForm.querySelector('button[type="submit"]');
          const originalText = submitBtn.innerHTML;
          
          // Cambiar el texto del botón a "Enviando..."
          submitBtn.innerHTML = `
            <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            Enviando...
          `;
          submitBtn.disabled = true;
          
          // Simular envío (en un proyecto real, esto sería una llamada fetch/ajax)
          setTimeout(() => {
            // Restaurar el botón
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
            
            // Mostrar mensaje de éxito
            const successMessage = document.createElement('div');
            successMessage.className = 'p-4 bg-green-100 text-green-700 rounded-lg mt-4';
            successMessage.innerHTML = `
              <div class="flex items-center">
                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                </svg>
                <p>¡Mensaje enviado con éxito! Gracias por contactarme.</p>
              </div>
            `;
            
            contactForm.appendChild(successMessage);
            contactForm.reset();
            if (fileNameDisplay.parentNode) {
              fileNameDisplay.remove();
            }
            
            // Eliminar el mensaje después de unos segundos
            setTimeout(() => {
              successMessage.remove();
            }, 5000);
          }, 1500);
        }
      });
    }
  });
</script> 