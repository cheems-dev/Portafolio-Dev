---
// Projects.astro - Sección de proyectos destacados
import { Icon } from "astro-icon/components";

// Seleccionar solo 3 proyectos destacados
const featuredProjects = [
  {
    title: "NFT Marketplace",
    description: "Plataforma para comprar y vender activos digitales con tecnología blockchain.",
    image: "/images/projects/project-1.webp",
    category: "full-stack",
    technologies: ["React", "Node.js", "Solidity", "Web3.js"],
    link: "#",
    github: "#"
  },
  {
    title: "Music Streaming App",
    description: "Aplicación de streaming de música con interfaz inspirada en la estética de Feid.",
    image: "/images/projects/project-3.webp",
    category: "full-stack",
    technologies: ["React Native", "Node.js", "MongoDB", "AWS"],
    link: "#",
    github: "#"
  },
  {
    title: "Crypto Dashboard",
    description: "Plataforma para visualizar y analizar criptomonedas en tiempo real.",
    image: "/images/projects/project-5.webp",
    category: "frontend",
    technologies: ["React", "Redux", "D3.js", "Firebase"],
    link: "#",
    github: "#"
  }
];

// Categorías de proyectos para filtrar
const categories = [
  { id: "all", name: "Todos" },
  { id: "frontend", name: "Frontend" },
  { id: "backend", name: "Backend" },
  { id: "full-stack", name: "Full Stack" },
  { id: "mobile", name: "Mobile" }
];
---

<section id="projects" class="py-20 bg-ferxxo-black relative overflow-hidden">
  <!-- Elementos decorativos de fondo -->
  <div class="absolute inset-0 z-0 opacity-20 pointer-events-none">
    <!-- Gradiente superior -->
    <div class="absolute top-0 left-0 w-full h-60 bg-gradient-to-b from-ferxxo-pink/20 to-transparent"></div>
    
    <!-- Grid tecnológica -->
    <div class="absolute inset-0 grid grid-cols-6 md:grid-cols-12">
      {Array.from({ length: 12 }).map(() => (
        <div class="border-r border-ferxxo-blue/10"></div>
      ))}
    </div>
    
    <!-- Círculos decorativos -->
    <div class="absolute top-40 left-[10%] w-60 h-60 rounded-full bg-ferxxo-purple/5 blur-3xl"></div>
    <div class="absolute bottom-40 right-[10%] w-80 h-80 rounded-full bg-ferxxo-blue/5 blur-3xl"></div>
    
    <!-- Líneas horizontales -->
    <div class="absolute top-1/4 left-0 w-full h-px bg-gradient-to-r from-transparent via-ferxxo-pink/20 to-transparent"></div>
    <div class="absolute bottom-1/4 left-0 w-full h-px bg-gradient-to-r from-transparent via-ferxxo-blue/20 to-transparent"></div>
  </div>

  <div class="container mx-auto px-4 relative z-10">
    <!-- Encabezado de sección -->
    <div class="text-center mb-12 md:mb-16">
      <h2 
        class="text-4xl md:text-5xl font-bold mb-4 uppercase text-white"
        data-aos="fade-up"
      >
        Mis <span class="text-ferxxo-pink relative ferxxo-glow">Proyectos</span>
      </h2>
      <div 
        class="w-32 h-1 bg-gradient-to-r from-ferxxo-pink via-ferxxo-purple to-ferxxo-blue mx-auto"
        data-aos="zoom-in"
        data-aos-delay="200"
      ></div>
      <p 
        class="mt-6 max-w-2xl mx-auto text-gray-300 md:text-lg"
        data-aos="fade-up"
        data-aos-delay="300"
      >
        Una selección de mis trabajos más destacados. Cada proyecto representa mi pasión
        por crear experiencias digitales innovadoras.
      </p>
    </div>
    
    <!-- Filtros de proyectos -->
    <div class="flex flex-wrap justify-center mb-10 md:mb-12 gap-2 md:gap-3" 
         data-aos="fade-up" 
         data-aos-delay="400">
      {categories.map((category) => (
        <button 
          class={`category-filter px-4 py-2 rounded-full text-white border transition-all duration-300 text-sm md:text-base hover:shadow-[0_0_10px_rgba(255,45,158,0.5)] ${category.id === 'all' ? 'bg-ferxxo-pink/10 border-ferxxo-pink' : 'border-ferxxo-blue/30 hover:border-ferxxo-pink'}`}
          data-category={category.id}
        >
          {category.name}
        </button>
      ))}
    </div>
    
    <!-- Grid de proyectos destacados -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8" data-aos="fade-up" data-aos-delay="500">
      {featuredProjects.map((project) => (
        <div 
          class="project-card relative group overflow-hidden bg-ferxxo-black/60 backdrop-blur-sm border border-ferxxo-blue/20 hover:border-ferxxo-blue/80 transition-all duration-300 rounded-xl hover:shadow-[0_0_20px_rgba(0,240,255,0.3)]"
          data-category={project.category}
        >
          <!-- Imagen del proyecto con placeholder -->
          <div class="relative aspect-video bg-gradient-to-br from-ferxxo-black to-ferxxo-black/70 overflow-hidden">
            <div class="w-full h-full flex flex-col items-center justify-center p-6">
              <span class="text-3xl md:text-4xl text-ferxxo-blue/30 font-bold mb-2">{project.title.split(' ')[0]}</span>
              <span class="w-16 h-0.5 bg-ferxxo-blue/30"></span>
            </div>
            
            <!-- Líneas de cuadrícula para efecto tecnológico -->
            <div class="absolute inset-0 grid grid-cols-8 pointer-events-none opacity-10">
              {Array.from({ length: 8 }).map(() => (
                <div class="border-r border-ferxxo-blue/50"></div>
              ))}
            </div>
            <div class="absolute inset-0 grid grid-rows-8 pointer-events-none opacity-10">
              {Array.from({ length: 8 }).map(() => (
                <div class="border-b border-ferxxo-blue/50"></div>
              ))}
            </div>
            
            <!-- Overlay con enlaces -->
            <div class="absolute inset-0 bg-gradient-to-b from-transparent via-ferxxo-black/60 to-ferxxo-black/90 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center p-4 md:p-6 gap-4">
              <a 
                href={project.link} 
                class="px-4 py-2 bg-ferxxo-pink/10 hover:bg-ferxxo-pink/20 text-ferxxo-pink border border-ferxxo-pink font-medium rounded-lg transition-colors duration-300 text-sm md:text-base flex items-center gap-2"
                target="_blank"
                rel="noopener noreferrer"
              >
                <span>Ver Demo</span>
                <Icon name="mdi:link" class="h-4 w-4" />
              </a>
              <a 
                href={project.github} 
                class="px-4 py-2 bg-ferxxo-blue/10 hover:bg-ferxxo-blue/20 text-ferxxo-blue border border-ferxxo-blue font-medium rounded-lg transition-colors duration-300 text-sm md:text-base flex items-center gap-2"
                target="_blank"
                rel="noopener noreferrer"
              >
                <span>GitHub</span>
                <Icon name="simple-icons:github" class="h-4 w-4" />
              </a>
            </div>
          </div>
          
          <!-- Información del proyecto -->
          <div class="p-4 md:p-6">
            <div class="flex items-start justify-between mb-3 gap-2">
              <h4 class="text-lg md:text-xl font-bold text-white line-clamp-1">{project.title}</h4>
              <span class="inline-block px-2 py-1 text-xs font-semibold bg-ferxxo-pink/10 text-ferxxo-pink rounded-full border border-ferxxo-pink/30 whitespace-nowrap">
                {project.category}
              </span>
            </div>
            <p class="text-gray-300 text-sm md:text-base mb-4 line-clamp-2">{project.description}</p>
            
            <!-- Tecnologías -->
            <div class="flex flex-wrap gap-1.5">
              {project.technologies.map((tech) => (
                <span class="inline-block px-2 py-0.5 text-xs bg-ferxxo-blue/10 text-ferxxo-blue rounded-full border border-ferxxo-blue/30">
                  {tech}
                </span>
              ))}
            </div>
          </div>
        </div>
      ))}
    </div>
    
    <!-- Botón de ver más proyectos -->
    <div class="text-center mt-12" data-aos="fade-up" data-aos-delay="600">
      <a href="#" class="group relative inline-block">
        <div
          class="absolute -inset-0.5 bg-gradient-to-r from-ferxxo-blue to-ferxxo-purple rounded-lg blur opacity-70 group-hover:opacity-100 transition duration-200"
        >
        </div>
        <button
          class="relative bg-ferxxo-black px-6 py-3 rounded-lg text-white font-bold uppercase tracking-wider group-hover:text-ferxxo-blue transition duration-200"
        >
          Ver Todos Los Proyectos
        </button>
      </a>
    </div>
  </div>
</section>

<style>
  /* Efectos Ferxxo */
  .ferxxo-glow {
    position: relative;
    text-shadow: 0 0 10px currentColor;
  }
  
  @keyframes pulse-border {
    0%, 100% { border-color: rgba(0, 240, 255, 0.3); }
    50% { border-color: rgba(0, 240, 255, 0.7); }
  }
  
  .project-card {
    transform: translateY(0);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }
  
  .project-card:hover {
    transform: translateY(-10px);
  }
  
  @media (max-width: 640px) {
    .project-card:hover {
      transform: translateY(-5px);
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Filtrado de proyectos por categoría
    const categoryFilters = document.querySelectorAll('.category-filter');
    const projectCards = document.querySelectorAll('.project-card');
    
    categoryFilters.forEach((filter) => {
      filter.addEventListener('click', function(this: HTMLElement) {
        // Actualizar clase active
        categoryFilters.forEach((f) => {
          f.classList.remove('active', 'bg-ferxxo-pink/10', 'border-ferxxo-pink');
          f.classList.add('border-ferxxo-blue/30');
        });
        this.classList.add('active', 'bg-ferxxo-pink/10', 'border-ferxxo-pink');
        this.classList.remove('border-ferxxo-blue/30');
        
        const category = this.getAttribute('data-category');
        
        // Filtrar proyectos
        projectCards.forEach((card) => {
          if (!(card instanceof HTMLElement)) return;
          
          const cardCategory = card.getAttribute('data-category');
          
          if (category === 'all' || category === cardCategory) {
            card.classList.remove('hidden');
            
            // Animación de entrada
            setTimeout(() => {
              card.style.opacity = '1';
              card.style.transform = 'translateY(0)';
            }, 50);
          } else {
            // Animación de salida
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
              card.classList.add('hidden');
            }, 300);
          }
        });
      });
    });
    
    // Ajustar visibilidad inicial de las tarjetas para animación de entrada
    projectCards.forEach((card) => {
      if (!(card instanceof HTMLElement)) return;
      
      card.style.opacity = '0';
      card.style.transform = 'translateY(20px)';
      
      setTimeout(() => {
        card.style.opacity = '1';
        card.style.transform = 'translateY(0)';
      }, 50);
    });
  });
</script> 